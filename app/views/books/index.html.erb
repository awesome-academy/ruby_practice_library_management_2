<h1>Danh sách Sách</h1>

<div class="alert alert-info">
  <p>Hiện tại có tổng cộng <%= @pagy.count %> sách.</p>
</div>

<table class="table">
  <thead>
    <tr>
      <th>Tiêu đề</th>
      <th>Tác giả</th>
      <th>Nhà xuất bản</th>
      <th>Danh mục</th>
      <th>Ngày xuất bản</th>
      <th>Giá thuê</th>
      <th>Chi tiết</th>
    </tr>
  </thead>
  <tbody>
    <% @books.each do |book| %>
      <tr>
        <td><%= book.title %></td>
        <td><%= book.author.name %></td>
        <td><%= book.publisher.name %></td>
        <td><%= book.category.name %></td>
        <td><%= book.published_date %></td>
        <td><%= number_to_currency(book.rental_price) %></td>
        <td><%= link_to "Chi tiết", book_path(book), class: "btn btn-info" %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<div class="d-flex justify-content-center mt-4 mb-custom">
  <nav aria-label="Page navigation">
    <ul class="pagination">
      <% if @pagy.prev %>
        <li class="page-item">
          <%= link_to "Trước", books_path(page: @pagy.prev), class: "page-link" %>
        </li>
      <% else %>
        <li class="page-item disabled">
          <span class="page-link">Trước</span>
        </li>
      <% end %>

      <% (1..@pagy.pages).each do |page_number| %>
        <li class="page-item <%= "active" if @pagy.page == page_number %>">
          <%= link_to page_number, books_path(page: page_number), class: "page-link" %>
        </li>
      <% end %>

      <% if @pagy.next %>
        <li class="page-item">
          <%= link_to "Tiếp theo", books_path(page: @pagy.next), class: "page-link" %>
        </li>
      <% else %>
        <li class="page-item disabled">
          <span class="page-link">Tiếp theo</span>
        </li>
      <% end %>
    </ul>
  </nav>
</div>



